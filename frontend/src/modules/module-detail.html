<template>
	<require from="jquery as jq" type="script"/>
	<div>
		<div id="modal-module-detail" class="modal">
		    <div class="modal-content">
		      <h4>Module</h4>
		        <div class="row">
				    <form class="col s12" action="#" onsubmit="return false">
				      <div class="row">
				        <div class="input-field col s2">
				        	<label>Id:</label>
				          	<input value="${(this.state=='edit'?this.id:'')}" disabled change.bind="this.id" placeholder="module id" id="module_id" type="text"> 
				        </div>
				        <div class="input-field col s10">
				          <input value="${this.name}" change.bind="this.name" placeholder="module name" id="module_name" type="text" class="validate">
				          <label for="module_name">Name:</label>
				        </div>
				      </div>
				      <div class="row">
				        <div class="input-field col s12">
				          <input value="${this.description}" change.bind="this.description" placeholder="module description" id="module_description" type="text" class="validate">
				          <label for="module_description">Description:</label>
				        </div>
				      </div>
				    </form>
				</div>
		    </div>
		    <div class="modal-footer">
		      <button click.trigger="this.save" class=" modal-action modal-close waves-effect waves-green btn-flat">Save</button>
		    </div>
	  	</div>
	  	<script if="!this.loaded">
	  		@this.loaded = true;
	  		window.setTimeout(function(){
	  			jq('.modal:first').modal();
	  			jq('#modal-module-detail:first').modal('open');	  			
	  			Materialize.updateTextFields();
	  			jq('#module_name').focus();
	  		},400);	  		
	  	</script>
	    <script if="this.state && this.state=='saved'">
	  		window.setTimeout(function(){
	  			jq('#modal-module-detail:first').modal('close');
	  		},400);	  		
	  	</script>
	</div>
</template>